{"version":3,"file":"opten-ng-forms.js.map","sources":["ng://@opten/ng-forms/lib/error-message-for.directive.ts","ng://@opten/ng-forms/lib/forms.module.ts"],"sourcesContent":["import {\r\n\tDirective,\r\n\tInput,\r\n\tAfterViewChecked,\r\n\tOnDestroy,\r\n\tElementRef\r\n} from '@angular/core';\r\n\r\nimport { FormControl } from '@angular/forms';\r\n\r\nimport { Observable, of as observableOf, Subscription } from 'rxjs';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { formatDate } from '@angular/common';\r\n\r\n@Directive({\r\n\tselector: '[op10ErrorMessageFor]'\r\n})\r\nexport class ErrorMessageForDirective implements AfterViewChecked, OnDestroy {\r\n\r\n\t@Input('op10ErrorMessageFor')\r\n\tcontrol: FormControl;\r\n\r\n\tprivate dateFormat = 'DD.MM.YYYY';\r\n\r\n\tprivate _translateSubscription: Subscription;\r\n\r\n\tconstructor(\r\n\t\tprivate _element: ElementRef,\r\n\t\tprivate translate: TranslateService\r\n\t) {}\r\n\r\n\tngAfterViewChecked() {\r\n\t\tthis._translateSubscription = this._message.subscribe(message => {\r\n\t\t\tif (message && message != null) {\r\n\t\t\t\tthis._element.nativeElement.innerHTML = message;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\t// Das ist ein test\r\n\t\tif (this._translateSubscription) {\r\n\t\t\tthis._translateSubscription.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tget _message(): Observable<any> {\r\n\t\tif (this.control) {\r\n\t\t\tfor (const propertyName in this.control.errors) {\r\n\t\t\t\tif (this.control.errors.hasOwnProperty(propertyName)) {\r\n\t\t\t\t\tconst error: {\r\n\t\t\t\t\t\tactual: Date;\r\n\t\t\t\t\t\tmin: Date;\r\n\t\t\t\t\t\tmax: Date;\r\n\t\t\t\t\t\tactualLength: number;\r\n\t\t\t\t\t\trequiredLength: number;\r\n\t\t\t\t\t} = this.control.errors[propertyName];\r\n\r\n\t\t\t\t\tif (propertyName === 'required') {\r\n\t\t\t\t\t\treturn this._translate('Required');\r\n\t\t\t\t\t} else if (propertyName === 'minlength') {\r\n\t\t\t\t\t\treturn this._translate('Min Length', {\r\n\t\t\t\t\t\t\tlength: error.requiredLength\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (propertyName === 'maxlength') {\r\n\t\t\t\t\t\treturn this._translate('Max Length', {\r\n\t\t\t\t\t\t\tlength: error.requiredLength\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (propertyName === 'email') {\r\n\t\t\t\t\t\treturn this._translate('Email');\r\n\t\t\t\t\t} else if (propertyName === 'url') {\r\n\t\t\t\t\t\treturn this._translate('Url');\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerMin' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerMin'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Min Date', {\r\n\t\t\t\t\t\t\tdate: formatDate(error.min, this.dateFormat, this.translate.currentLang)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerMax' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerMax'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Max Date', {\r\n\t\t\t\t\t\t\tdate: formatDate(error.max, this.dateFormat, this.translate.currentLang)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerFilter' ||\r\n\t\t\t\t\t\tpropertyName === 'matdatepickerFilter' ||\r\n\t\t\t\t\t\tpropertyName === 'datepickerParse' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerParse'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Date');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn observableOf(null);\r\n\t}\r\n\r\n\tprivate _translate(key: string, params?: Object) {\r\n\t\treturn this.translate.get(`Validation.Field.${key}`, params);\r\n\t}\r\n}\r\n","import { ErrorMessageForDirective } from './error-message-for.directive';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n\timports: [CommonModule],\r\n\tdeclarations: [ErrorMessageForDirective],\r\n\texports: [ErrorMessageForDirective]\r\n})\r\nexport class FormsModule {}\r\n"],"names":["observableOf"],"mappings":"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"}
