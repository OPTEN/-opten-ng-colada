{"version":3,"file":"opten-ng-forms.umd.js.map","sources":["ng://@opten/ng-forms/lib/error-message-for.directive.ts","ng://@opten/ng-forms/lib/forms.module.ts"],"sourcesContent":["import {\r\n\tDirective,\r\n\tInput,\r\n\tAfterViewChecked,\r\n\tOnDestroy,\r\n\tElementRef\r\n} from '@angular/core';\r\n\r\nimport { FormControl } from '@angular/forms';\r\n\r\nimport { Observable, of as observableOf, Subscription } from 'rxjs';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { formatDate } from '@angular/common';\r\n\r\n@Directive({\r\n\tselector: '[op10ErrorMessageFor]'\r\n})\r\nexport class ErrorMessageForDirective implements AfterViewChecked, OnDestroy {\r\n\r\n\t@Input('op10ErrorMessageFor')\r\n\tcontrol: FormControl;\r\n\r\n\tprivate dateFormat = 'DD.MM.YYYY';\r\n\r\n\tprivate _translateSubscription: Subscription;\r\n\r\n\tconstructor(\r\n\t\tprivate _element: ElementRef,\r\n\t\tprivate translate: TranslateService\r\n\t) {}\r\n\r\n\tngAfterViewChecked() {\r\n\t\tthis._translateSubscription = this._message.subscribe(message => {\r\n\t\t\tif (message && message != null) {\r\n\t\t\t\tthis._element.nativeElement.innerHTML = message;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\t// Das ist ein test\r\n\t\tif (this._translateSubscription) {\r\n\t\t\tthis._translateSubscription.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tget _message(): Observable<any> {\r\n\t\tif (this.control) {\r\n\t\t\tfor (const propertyName in this.control.errors) {\r\n\t\t\t\tif (this.control.errors.hasOwnProperty(propertyName)) {\r\n\t\t\t\t\tconst error: {\r\n\t\t\t\t\t\tactual: Date;\r\n\t\t\t\t\t\tmin: Date;\r\n\t\t\t\t\t\tmax: Date;\r\n\t\t\t\t\t\tactualLength: number;\r\n\t\t\t\t\t\trequiredLength: number;\r\n\t\t\t\t\t} = this.control.errors[propertyName];\r\n\r\n\t\t\t\t\tif (propertyName === 'required') {\r\n\t\t\t\t\t\treturn this._translate('Required');\r\n\t\t\t\t\t} else if (propertyName === 'minlength') {\r\n\t\t\t\t\t\treturn this._translate('Min Length', {\r\n\t\t\t\t\t\t\tlength: error.requiredLength\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (propertyName === 'maxlength') {\r\n\t\t\t\t\t\treturn this._translate('Max Length', {\r\n\t\t\t\t\t\t\tlength: error.requiredLength\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (propertyName === 'email') {\r\n\t\t\t\t\t\treturn this._translate('Email');\r\n\t\t\t\t\t} else if (propertyName === 'url') {\r\n\t\t\t\t\t\treturn this._translate('Url');\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerMin' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerMin'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Min Date', {\r\n\t\t\t\t\t\t\tdate: formatDate(error.min, this.dateFormat, this.translate.currentLang)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerMax' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerMax'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Max Date', {\r\n\t\t\t\t\t\t\tdate: formatDate(error.max, this.dateFormat, this.translate.currentLang)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerFilter' ||\r\n\t\t\t\t\t\tpropertyName === 'matdatepickerFilter' ||\r\n\t\t\t\t\t\tpropertyName === 'datepickerParse' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerParse'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Date');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn observableOf(null);\r\n\t}\r\n\r\n\tprivate _translate(key: string, params?: Object) {\r\n\t\treturn this.translate.get(`Validation.Field.${key}`, params);\r\n\t}\r\n}\r\n","import { ErrorMessageForDirective } from './error-message-for.directive';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n\timports: [CommonModule],\r\n\tdeclarations: [ErrorMessageForDirective],\r\n\texports: [ErrorMessageForDirective]\r\n})\r\nexport class FormsModule {}\r\n"],"names":["formatDate","observableOf","Directive","ElementRef","TranslateService","Input","NgModule","CommonModule"],"mappings":"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"}
