{"version":3,"file":"opten-ng-forms.js.map","sources":["ng://@opten/ng-forms/lib/error-message-for.directive.ts","ng://@opten/ng-forms/lib/forms.module.ts"],"sourcesContent":["import {\r\n\tDirective,\r\n\tInput,\r\n\tAfterViewChecked,\r\n\tOnDestroy,\r\n\tElementRef\r\n} from '@angular/core';\r\n\r\nimport { FormControl } from '@angular/forms';\r\n\r\nimport { Observable, of as observableOf, Subscription } from 'rxjs';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { formatDate } from '@angular/common';\r\n\r\n@Directive({\r\n\tselector: '[op10ErrorMessageFor]'\r\n})\r\nexport class ErrorMessageForDirective implements AfterViewChecked, OnDestroy {\r\n\r\n\t@Input('op10ErrorMessageFor')\r\n\tcontrol: FormControl;\r\n\r\n\tprivate dateFormat = 'DD.MM.YYYY';\r\n\r\n\tprivate _translateSubscription: Subscription;\r\n\r\n\tconstructor(\r\n\t\tprivate _element: ElementRef,\r\n\t\tprivate translate: TranslateService\r\n\t) {}\r\n\r\n\tngAfterViewChecked() {\r\n\t\tthis._translateSubscription = this._message.subscribe(message => {\r\n\t\t\tif (message && message != null) {\r\n\t\t\t\tthis._element.nativeElement.innerHTML = message;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\t// Das ist ein test\r\n\t\tif (this._translateSubscription) {\r\n\t\t\tthis._translateSubscription.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tget _message(): Observable<any> {\r\n\t\tif (this.control) {\r\n\t\t\tfor (const propertyName in this.control.errors) {\r\n\t\t\t\tif (this.control.errors.hasOwnProperty(propertyName)) {\r\n\t\t\t\t\tconst error: {\r\n\t\t\t\t\t\tactual: Date;\r\n\t\t\t\t\t\tmin: Date;\r\n\t\t\t\t\t\tmax: Date;\r\n\t\t\t\t\t\tactualLength: number;\r\n\t\t\t\t\t\trequiredLength: number;\r\n\t\t\t\t\t} = this.control.errors[propertyName];\r\n\r\n\t\t\t\t\tif (propertyName === 'required') {\r\n\t\t\t\t\t\treturn this._translate('Required');\r\n\t\t\t\t\t} else if (propertyName === 'minlength') {\r\n\t\t\t\t\t\treturn this._translate('Min Length', {\r\n\t\t\t\t\t\t\tlength: error.requiredLength\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (propertyName === 'maxlength') {\r\n\t\t\t\t\t\treturn this._translate('Max Length', {\r\n\t\t\t\t\t\t\tlength: error.requiredLength\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (propertyName === 'email') {\r\n\t\t\t\t\t\treturn this._translate('Email');\r\n\t\t\t\t\t} else if (propertyName === 'url') {\r\n\t\t\t\t\t\treturn this._translate('Url');\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerMin' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerMin'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Min Date', {\r\n\t\t\t\t\t\t\tdate: formatDate(error.min, this.dateFormat, this.translate.currentLang)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerMax' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerMax'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Max Date', {\r\n\t\t\t\t\t\t\tdate: formatDate(error.max, this.dateFormat, this.translate.currentLang)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\tpropertyName === 'datepickerFilter' ||\r\n\t\t\t\t\t\tpropertyName === 'matdatepickerFilter' ||\r\n\t\t\t\t\t\tpropertyName === 'datepickerParse' ||\r\n\t\t\t\t\t\tpropertyName === 'matDatepickerParse'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn this._translate('Date');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn observableOf(null);\r\n\t}\r\n\r\n\tprivate _translate(key: string, params?: Object) {\r\n\t\treturn this.translate.get(`Validation.Field.${key}`, params);\r\n\t}\r\n}\r\n","import { ErrorMessageForDirective } from './error-message-for.directive';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n\timports: [CommonModule],\r\n\tdeclarations: [ErrorMessageForDirective],\r\n\texports: [ErrorMessageForDirective]\r\n})\r\nexport class FormsModule {}\r\n"],"names":["observableOf"],"mappings":"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"}
